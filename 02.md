# Railsで孫要素を取得する方法がわからない。ただ子要素を取得する必要はないです。
# 解答記述欄

親要素の外部キーを子要素に加えて、孫要素にも設定しましょう。そして、アソシエーションを組みましょう。





# レビュー記述欄
Parent, Child, GrandChildをモデルとします。関係性は名前の通りです。

あるParentレコードに紐づく子データを取得するときは、Parent.childrenと記述しますが、それと同様に、Parent.grand_childrensと書けたら嬉しいです。

Parent.childrenという記述は、Parentモデルにhas_manyを記述することで実現しています。
has_manyは、単に子レコードを取得するだけでなく、オプションを加えることで孫レコードを取得することも可能です。それは、throughオプションです。

has_many :grand_children, through: :childrenとすることでParent.grand_childrenと記述できます。
ただし、次の記述に注意する必要があります。

class Parent < ApplicationRecord
# OKの記述
    has_many :children
    has_many :grand_children, through: :children

# NGの記述
    has_many :grand_children, through: :children
    has_many :children
end
孫の記述より先に子の記述をする必要があります。
